form.form-inline(async-form="register", name="registerForm", action="/register", ng-cloak, captcha)
	input(name='_csrf', type='hidden', value=csrfToken)
	input(name='redir', type='hidden', value=redir)
	form-messages(for="registerForm")
	.row
		.col-xs-12.col-md-6.col-md-offset-3
			.form-group
				input.form-control.input-lg(
					type='email',
					name='email',
					placeholder="email@example.com",
					required,
					aria-label='email',
					ng-model="email",
					ng-init="email = "+JSON.stringify(new_email),
					ng-model-options="{ updateOn: 'blur' }"
				)

			.form-group
				input.form-control.input-lg(
					type='password',
					name='password',
					placeholder="********",
					required,
					aria-label='password',
					ng-model="password"
				)
			br
			.form-group.hp-register-newsletter-checkbox
				label.checkbox-inline.checkbox-newsletter
					input(type='checkbox', 
						id="newslettercheckbox",
						name="subscribeToNewsletter",
						ng-model="subscribeToNewsletter",
						value="true")
					| #{translate("newsletter-accept")}
			.hp-register-external-separator
				span.hp-register-external-separator-or #{translate("login_register_or")}
			.form-group
				a.btn.btn-default.login-btn-google-alt.hp-login-btn(
					href="/auth/google?intent=sign_up"
				) 
					i.login-btn-icon.login-btn-icon-google-alt
					| #{translate("register_using_service", {service:"Google"})}
			.form-group
				a.btn.btn-default.login-btn-orcid-alt.hp-login-btn(
					href="/auth/orcid?intent=sign_up"
				) 
					i.login-btn-icon.login-btn-icon-orcid-alt
					| #{translate("register_using_service", {service:"ORCID"})}

		.col-xs-12.col-md-3(style="padding: 0;")
			button.btn-primary.btn.btn-lg.btn-hero(
				type='submit'
				ng-disabled="registerForm.inflight"
			)
				span(ng-show="!registerForm.inflight") #{translate("register")}
				span(ng-show="registerForm.inflight") #{translate("registering")}...